<html>
  <head>
    <script type="text/javascript" src="dygraph-combined.js"></script>
  </head>
  <body>
    <h1>Indexing Throughput</h1>
    <p>The indexing throughput test indexes Wikipedia articles containing approximately 1KB of text.  Currently the test indexes 100k articles and we measure the average throughput over the entire operation and display it as MB/s of plain-text indexed.</p>
    <div id="graphdiv" style="width:1200px; height:400px;"></div>
    <script type="text/javascript">

    var annotations = [
      {
        series: "null-firestorm",
        x: "2016-01-05",
        shortText: "A",
        text: "Merged perf 20160102 - https://github.com/blevesearch/bleve/pull/305",
        cssClass: 'annotation'
      },
      {
        series: "rocksdb-firestorm",
        x: "2016-01-18",
        shortText: "B",
        text: "RocksDB Configuration Change - https://github.com/blevesearch/bleve-bench/commit/93fbaab2303c06071c238ac7b026482312951a63",
        cssClass: 'annotation'
      }
    ];

      g = new Dygraph(

        // containing div
        document.getElementById("graphdiv"),

        // CSV or path to a CSV file.
        "data/indexing/avg_mb_per_second.json",

        {
          title: 'Indexing Throughput',
          legend: 'always',
          errorBars: true,
          ylabel: "MB/s",
          labelsSeparateLines: false,
        }
      );

      function chartchange(el) {
        g.setVisibility(el.id, el.checked);
        // refresh annotations
        annotationschange(document.getElementById("a"));
      }

      function annotationschange(el) {
        if (el.checked) {
          g.setAnnotations(annotations);
        } else {
          g.setAnnotations([]);
        }
      }

      g.ready(function() {
        // hide null by default
        g.setVisibility("6", 0);
      });

    </script>
<p><b>Display: </b>
<input type=checkbox id=0 onClick="chartchange(this)" checked>
<label for="0"> BoltDB</label>
<input type=checkbox id=1 onClick="chartchange(this)" checked>
<label for="1"> ForestDB</label>
<input type=checkbox id=2 onClick="chartchange(this)" checked>
<label for="2"> GoLevelDB</label>
<input type=checkbox id=3 onClick="chartchange(this)" checked>
<label for="3"> LevelDB</label>
<input type=checkbox id=4 onClick="chartchange(this)" checked>
<label for="4"> RocksDB</label>
<input type=checkbox id=5 onClick="chartchange(this)" checked>
<label for="5"> RocksDB-Firestorm</label>
<input type=checkbox id=6 onClick="chartchange(this)" >
<label for="6"> Null-Firestorm<span title="Null-Firestorm does analysis but does not actually write any bits to disk.  It cannot actually be used but gives a sense of the theoretical maximum possible with this indexing scheme."><sup>?</sup></span></label>
<input type=checkbox id=a onClick="annotationschange(this)" checked>
<label for="a">Annotations</label>

</p>
  </body>
</html>
